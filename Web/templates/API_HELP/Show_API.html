{% extends "base.html" %}

{% block js_content %}
    {{ 't_js/Common/add_node.js' | make_static_html | safe }}
    {{ 't_js/Common/datetime_tools.js' | make_static_html | safe }}
    {{ 't_js/API_HELP/show_api.js' | make_static_html | safe }}

{% endblock %}

{% block title %}查看API解释{% endblock %}

{% block content %}
    <br>
    <a class="btn btn-primary pull-right" href="{{ return_url }}">API列表</a>
    <a class="btn btn-primary pull-right margin10" href="{{ test_url }}">测试API</a>
    <div id="div_api_new_modify_api" style="display: none">
        <a class="btn btn-primary pull-right margin10" href="{{ batch_test_url }}">批量测试</a>
        <a class="btn btn-primary pull-right margin10" href="javascript:void(0)" id="a_update_api">修改</a>
    </div>
    <div class="clear"></div>
    <input class="form-control bottom10" id="api_no" value="{{ api_no }}" style="display:none;"/>
    <p>API标题: <span id="span_api_title"></span> <a id="link_copy_location" class="status_move">复制文档地址</a></p>
    <p>API URL: <span id="span_api_url"></span></p>
    <p>API 请求方式: <span id="span_api_method"></span></p>
    <p>API 描述: <span id="span_api_desc"></span></p>
    <p>API 状态: <span id="span_stage"></span></p>
    <p>添加时间: <span id="span_add_time"></span></p>
    <p>最近更新时间: <span id="span_update_time"></span></p>
    <table class="table table-bordered api-list-table" id="api_header_param">
        <caption>请求头部参数</caption>
        <tr>
            <th scope="col" width="15%">参数名称</th>
            <th class="text-center" scope="col" width="8%">是否必须</th>
            <th scope="col" width="77%">参数描述</th>
        </tr>
    </table>
    <table class="table table-bordered api-list-table" id="api_body_param">
        <caption>请求主体参数</caption>
        <tr>
            <th scope="col" width="15%">参数名称</th>
            <th class="text-center" scope="col" width="8%">是否必须</th>
            <th class="text-center" scope="col" width="10%">参数类型</th>
            <th scope="col" width="67%">参数描述</th>
        </tr>
    </table>
    <div class="bottom20 api-example" id="div_api_input">
        <b>请求示例</b>

        <div id="api_input_exist">
        </div>
    </div>
    <div class="bottom20 api-example" id="div_api_output">
        <b>返回示例</b>

        <div id="api_output_exist">
        </div>
    </div>

    <div class="care">
        <input id="care_url" value='{{ url_prefix }}/care/' style="display: none"/>
        <button class="btn btn-primary pull-right" onclick="change_care();" id="make_care">关注</button>
        <p><b>已关注的人(如果您使用到该API，请关注，以便API一旦发生更改，能尽快通知您。)</b></p>

        <div id="api_care_user">
        </div>
    </div>

    <input id="del_api_url" value="{{ url_prefix }}/basic/" style="display: none"/>
    <button id="btn_del_api" class="btn btn-primary pull-right" style="display: none">删除API</button>

    <br>
    <a href="{{ status_url }}?api_no={{ api_no }}" title="">查看所有返回状态码解释</a>
    <label style="display: none" id="role_value">{{ role_value | tojson | safe }}</label>
{% endblock %}